# ğŸ”§ è·¯å¾„é—®é¢˜ä¿®å¤æŒ‡å—

## é—®é¢˜è¯´æ˜
æ‚¨é‡åˆ°çš„é”™è¯¯æ˜¯å› ä¸ºAPIæœåŠ¡æ— æ³•æ‰¾åˆ° `Definitions` å’Œ `Overrides` æ–‡ä»¶å¤¹ï¼Œè¿™äº›æ–‡ä»¶å¤¹åŒ…å«äº†æ¸¸æˆæŠ€èƒ½å®šä¹‰å’Œåç§°è¦†ç›–æ•°æ®ã€‚

## âœ… å¿«é€Ÿè§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šè‡ªåŠ¨ä¿®å¤ï¼ˆæ¨èï¼‰
```bash
# é‡æ–°è¿è¡Œä¿®å¤åçš„å¯åŠ¨è„šæœ¬
start.bat
```

ä¿®å¤åçš„å¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- æ£€æŸ¥å¹¶åˆ›å»ºç¼ºå¤±çš„ç›®å½•
- å¤åˆ¶ç¤ºä¾‹é…ç½®æ–‡ä»¶
- ç¡®ä¿æ‰€æœ‰è·¯å¾„æ­£ç¡®

### æ–¹æ¡ˆ2ï¼šæ‰‹åŠ¨ä¿®å¤
```bash
# 1. ç¡®ä¿åœ¨æ­£ç¡®çš„ç›®å½•ç»“æ„ä¸‹
FFXIV_ACT_Plugin/
â”œâ”€â”€ Definitions/     â† è¿™ä¸ªæ–‡ä»¶å¤¹éœ€è¦å­˜åœ¨
â”œâ”€â”€ Overrides/       â† è¿™ä¸ªæ–‡ä»¶å¤¹éœ€è¦å­˜åœ¨
â””â”€â”€ api_design/
    â”œâ”€â”€ main.py
    â””â”€â”€ å…¶ä»–APIæ–‡ä»¶...

# 2. å¦‚æœæ–‡ä»¶å¤¹ä¸å­˜åœ¨ï¼Œæ‰‹åŠ¨åˆ›å»º
mkdir "..\Definitions"
mkdir "..\Overrides"

# 3. å¤åˆ¶ç¤ºä¾‹æ–‡ä»¶
copy "Definitions\BlackMage_sample.json" "..\Definitions\BlackMage.json"
copy "Overrides\sample_overrides.txt" "..\Overrides\global_sample.txt"
```

### æ–¹æ¡ˆ3ï¼šä½¿ç”¨ç°æœ‰æ•°æ®
å¦‚æœæ‚¨å·²ç»æœ‰å®Œæ•´çš„ Definitions å’Œ Overrides æ–‡ä»¶å¤¹ï¼š

```bash
# ç¡®ä¿æ–‡ä»¶å¤¹åœ¨æ­£ç¡®ä½ç½®
FFXIV_ACT_Plugin/
â”œâ”€â”€ Definitions/          â† åŒ…å«æ‰€æœ‰èŒä¸šJSONæ–‡ä»¶
â”‚   â”œâ”€â”€ BlackMage.json
â”‚   â”œâ”€â”€ WhiteMage.json
â”‚   â””â”€â”€ ...
â”œâ”€â”€ Overrides/           â† åŒ…å«åç§°è¦†ç›–æ–‡ä»¶
â”‚   â”œâ”€â”€ global_P10S.txt
â”‚   â””â”€â”€ ...
â””â”€â”€ api_design/
    â””â”€â”€ main.py
```

## ğŸ§ª éªŒè¯ä¿®å¤

1. **é‡æ–°å¯åŠ¨æœåŠ¡**
```bash
python main.py
```

2. **æ£€æŸ¥å¯åŠ¨æ—¥å¿—**
æ­£å¸¸æƒ…å†µä¸‹åº”è¯¥çœ‹åˆ°ï¼š
```
INFO:     Uvicorn running on http://0.0.0.0:8000
INFO:     FFXIV Combat Parser åˆå§‹åŒ–æˆåŠŸ
INFO:     åŠ è½½äº† X ä¸ªèŒä¸šå®šä¹‰
INFO:     åŠ è½½äº† Y ä¸ªæŠ€èƒ½å®šä¹‰
```

3. **æµ‹è¯•APIåŠŸèƒ½**
```bash
# è¿è¡Œæµ‹è¯•è„šæœ¬
python test_api.py

# æˆ–è€…è®¿é—®APIæ–‡æ¡£
# http://localhost:8000/docs
```

## ğŸ“Š é¢„æœŸç»“æœ

ä¿®å¤åï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å¯åŠ¨æ—¥å¿—ï¼š
```
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started server process [12345]
INFO:     Waiting for application startup.
INFO:     åŠ è½½äº† 1 ä¸ªèŒä¸šå®šä¹‰
INFO:     åŠ è½½äº† 6 ä¸ªæŠ€èƒ½å®šä¹‰
INFO:     åŠ è½½äº† 2 ä¸ªçŠ¶æ€æ•ˆæœå®šä¹‰
INFO:     åŠ è½½äº† 2 ä¸ªåç§°è¦†ç›–
INFO:     FFXIV Combat Parser åˆå§‹åŒ–æˆåŠŸ
INFO:     Application startup complete.
```

## ğŸš¨ å¦‚æœä»æœ‰é—®é¢˜

1. **æ£€æŸ¥æ–‡ä»¶è·¯å¾„**
```python
import os
print("å½“å‰å·¥ä½œç›®å½•:", os.getcwd())
print("APIç›®å½•:", os.path.dirname(os.path.abspath(__file__)))
```

2. **æ‰‹åŠ¨æŒ‡å®šè·¯å¾„**
ä¿®æ”¹ `main.py` ä¸­çš„è·¯å¾„ï¼š
```python
definitions_path = r"e:\code\myact\FFXIV_ACT_Plugin\Definitions"
overrides_path = r"e:\code\myact\FFXIV_ACT_Plugin\Overrides"
```

3. **ä½¿ç”¨ç»å¯¹è·¯å¾„**
å¦‚æœç›¸å¯¹è·¯å¾„ä»æœ‰é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚

## ğŸ’¡ å°è´´å£«

- ç¡®ä¿åœ¨ `api_design` æ–‡ä»¶å¤¹å†…è¿è¡Œè„šæœ¬
- å¦‚æœä½¿ç”¨IDEï¼Œç¡®ä¿å·¥ä½œç›®å½•è®¾ç½®æ­£ç¡®
- Windowsç”¨æˆ·æ³¨æ„è·¯å¾„åˆ†éš”ç¬¦ä½¿ç”¨åæ–œæ  `\`

ä¿®å¤å®Œæˆåï¼Œæ‚¨å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨APIçš„æ‰€æœ‰åŠŸèƒ½äº†ï¼ğŸ‰